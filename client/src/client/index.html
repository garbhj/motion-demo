<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <link rel="stylesheet" href="./style.css">
  <title>Motion.io - Control With Your Hand</title>
</head>
<body>
  <!-- Full Screen Game Layer -->
  <canvas id="game_canvas"></canvas>

  <!-- Main Menu Overlay -->
  <div id="menu_screen" class="overlay">
    <div class="menu-box">
      <h1>Motion.io</h1>
      
      <div class="input-group">
        <label for="playerName">Choose your name:</label>
        <input type="text" id="playerName" placeholder="Enter name..." maxlength="12">
      </div>

      <div class="tips">
        <h3>How to Play:</h3>
        <ul>
          <li><b>Move:</b> Move your open hand away from the center.</li>
          <li><b>Retract:</b> Pinch or close your hand to pull the flail close.</li>
          <li><b>Attack:</b> Point to detach and throw your flail!</li>
          <li><b>Recenter:</b> Press <b>'C'</b> to recenter the reference point.</li>
        </ul>
      </div>

      <button id="enableCameraBtn" class="btn primary-btn">Start Camera</button>
      <button id="startGameBtn" class="btn primary-btn" disabled>PLAY GAME</button>
    </div>
  </div>

  <!-- In-Game UI Layer -->
  <div id="game_ui_layer" class="hidden">
    <button id="exitBtn" class="btn danger-btn">Exit Game</button>
    <button id="recenterBtn" class="btn secondary-btn">Recenter Joystick (C)</button>
  </div>

  <!-- Picture-in-Picture Webcam / Debug -->
  <div id="pip_container" class="hidden">
    <div class="pip-header">
      <span>Camera Tracking</span>
      <button id="togglePipBtn">Hide</button>
    </div>
    <div class="pip-video-wrapper">
      <video id="webcam" autoplay playsinline></video>
      <canvas id="debug_canvas"></canvas> 
    </div>
  </div>
  
  <script type="module" src="./main.js"></script>
</body>
</html>