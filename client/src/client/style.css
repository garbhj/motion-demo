body, html {
  margin: 0; padding: 0; width: 100%; height: 100%; overflow: hidden;
  background-color: #222; font-family: sans-serif;
}

#game_canvas {
  display: block; width: 100%; height: 100%;
}

.hidden { display: none !important; }

/* --- Menus and UI --- */
.overlay {
  position: absolute; top: 0; left: 0; width: 100%; height: 100%;
  background: rgba(0, 0, 0, 0.7);
  display: flex; justify-content: center; align-items: center;
  z-index: 200;
}

.menu-box {
  background: #333;
  color: white;
  padding: 40px;
  border-radius: 12px;
  text-align: center;
  max-width: 500px;
  box-shadow: 0 10px 30px rgba(0,0,0,0.5);
}

.menu-box h1 {
  margin-top: 0; color: #00ffff; font-size: 3em; 
  text-shadow: 0 0 5px rgba(0,255,255,0.3);
}

.menu-box button + button {
  margin-top: 15px;
}

.input-group { margin-bottom: 20px; text-align: left; }
.input-group input { 
  width: 90%; padding: 10px; font-size: 16px; 
  border-radius: 6px; border: none; margin-top: 5px;
}

.tips {
  background: #222; padding: 15px; border-radius: 8px; text-align: left; margin-bottom: 25px;
}

.tips ul {
  padding-left: 20px; line-height: 1.6;
}

#game_ui_layer {
  position: absolute; top: 20px; left: 20px; z-index: 10;
  display: flex; gap: 10px;
}

/* --- Buttons --- */
.btn {
  padding: 10px 20px; font-size: 16px; font-weight: bold; border: none;
  border-radius: 6px; cursor: pointer; transition: transform 0.1s, background 0.2s;
}
.btn:hover { transform: scale(1.05); }
.btn:active { transform: scale(0.95); }

.primary-btn { background: #007f8b; color: white; width: 100%; padding: 15px; font-size: 20px; }
.primary-btn:hover { background: #00a2b1; }

.danger-btn { background: #cc0000; color: white; }
.danger-btn:hover { background: #ff3333; }

.secondary-btn { background: #555; color: white; }
.secondary-btn:hover { background: #777; }

.btn:disabled {
  background: #444 !important;
  color: #999 !important;
  cursor: not-allowed;
  transform: none;
  box-shadow: none;
  opacity: 0.6;
}

.btn:disabled:hover {
  transform: none;
  box-shadow: none;
}

/* --- Picture in Picture --- */
#pip_container {
  position: fixed; 
  bottom: 20px; right: 20px; width: 320px;
  background: rgba(0,0,0,0.8); 
  border-radius: 8px; 
  border: 2px solid #555;
  z-index: 9999; 
  transition: transform 0.3s ease;
}

#pip_container.minimized .pip-video-wrapper { display: none; }

.pip-header {
  display: flex; justify-content: space-between; padding: 5px 10px; color: white; font-size: 12px;
}

.pip-video-wrapper {
  position: relative; width: 320px; height: 240px;
}

#webcam, #debug_canvas {
  position: absolute; top: 0; left: 0; width: 100%; height: 100%;
  transform: scaleX(-1);
}